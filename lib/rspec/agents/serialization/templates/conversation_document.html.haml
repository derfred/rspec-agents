!!!
%html
  %head
    %meta{charset: "UTF-8"}
    %meta{name: "viewport", content: "width=device-width, initial-scale=1.0"}
    %title Conversation
    != render_base_styles
    != render_base_scripts
    != render_extensions(:conversation_head_content)

  %body
    != render_extensions(:conversation_body_start_content)

    .main-content
      .conversation-container
        != render_fragment

    #metadata-sidebar.metadata-sidebar
      .metadata-sidebar-header
        %h3#metadata-header Message Metadata
        %button.metadata-close-btn{onclick: "closeMetadata()", title: "Close"}
          Ã—
      .metadata-sidebar-content#metadata-content
        - messages.each_with_index do |message, idx|
          - message_id = "#{example_id}_msg_#{idx}"
          .metadata-item{id: "#{message_id}_metadata", data: {role: message[:role]}, style: "display: none;"}
            != render_extensions(:render_message_metadata, message, message_id)

    != render_extensions(:conversation_body_end_content)
